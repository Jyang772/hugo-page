<!doctype html><html lang=ru-ru><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-WBN59M8Y5S"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-WBN59M8Y5S")</script><script type=text/javascript>(function(e,t,n,s,o,i,a){e[o]=e[o]||function(){(e[o].a=e[o].a||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym"),ym(53961409,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})</script><noscript><div><img src=https://mc.yandex.ru/watch/53961409 style=position:absolute;left:-9999px alt></div></noscript><meta charset=utf-8><link rel=stylesheet href=/hugo-page/style.min.a3a4a7a8e8602aaa85b7cb3d655edde028ac80d73f2a97389e2cbcf995dd672d.css integrity="sha256-o6SnqOhgKqqFt8s9ZV7d4CisgNc/Kpc4niy8+ZXdZy0="><link rel=stylesheet href=/syntax.css id=syntax-theme><link rel=stylesheet type=text/css href=https://tikzjax.com/v1/fonts.css><script src=https://tikzjax.com/v1/tikzjax.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js></script><script src=/scripts/lunr.stemmer.support.min.js></script><script src=/scripts/lunr.ru.min.js></script><script src=/scripts/lunr.multi.min.js></script><link rel=stylesheet id=theme><script>function toggleSidebar(){console.log("Toggling sidebar visibility");var e=document.getElementById("sidebar"),t=document.getElementById("wrapper");(e.classList.contains("sidebar-toggled")||window.getComputedStyle(e).display=="block")&&(e.classList.toggle("sidebar-hidden"),t.classList.toggle("sidebar-hidden")),e.classList.add("sidebar-toggled"),t.classList.add("sidebar-toggled")}function switchTheme(e){console.log("Changing theme:",e),document.getElementById("theme").href=e=="dark"?"/hugo-page/dark.min.b3ae1169831434b11b48de5b3e3210547eea6b7884c295ab0030cb973ea0dc49.css":"",document.getElementById("syntax-theme").href=e=="dark"?"/syntax-dark.css":"/syntax.css",localStorage.setItem("theme",e)}async function toggleSearch(){console.log("Toggling search");var e=document.getElementById("search");if(window.getComputedStyle(e).display=="none"?(e.style.display="block",window.scrollTo({top:0}),document.getElementById("search-bar").focus()):e.style.display="none",!index){console.log("Fetching index");const e=await fetch("/searchindex.json"),t=await e.json();index=lunr(function(){this.use(lunr.multiLanguage("en","ru")),this.field("title",{boost:5}),this.field("content",{boost:1}),t.forEach(function(e){this.add(e),articles.push(e)},this)}),console.log("Ready to search")}}var articles=[],index=void 0;function search(){var n,e=document.getElementById("search-bar").value,s=document.getElementById("search-results"),o=document.getElementById("search-count");if(e==""){s.innerHTML="",o.innerHTML="";return}n=index.search(e),o.innerHTML="Найдено <b>"+n.length+"</b> страниц";let t="";for(const a in n){const i=articles[n[a].ref];t+='<li><a href="'+i.path+'">'+i.title+"</a> <p>";const s=i.content,o=80;if(s.includes(e)){const n=s.indexOf(e);n>o&&(t+="…"),t+=s.substring(n-o,n)+"<b>"+e+"</b>"+s.substring(n+e.length,n+e.length+o)}else t+=s.substring(0,o*2);t+="…</p></li>"}s.innerHTML=t}localStorage.getItem("theme")=="dark"&&switchTheme("dark"),window.addEventListener("load",function(){var e=document.getElementById("active-element");e&&e.scrollIntoView({block:"center"})}),window.addEventListener("scroll",function(){var e=document.getElementById("menu");window.scrollY<120?e.classList.remove("scrolled"):e.classList.add("scrolled")}),window.addEventListener("keydown",function(e){if(e.altKey)return;if(document.activeElement.tagName=="INPUT")return;e.key=="ArrowLeft"?document.getElementById("prev-article").click():e.key=="ArrowRight"&&document.getElementById("next-article").click()})</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous onload='renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})'></script><title>Просто интересные задачи - Алгоритмика</title></head><body><nav id=sidebar><div class=title><a href=/>Алгоритмика</a>
<span class=slash>/</span>
<a href=/cs/ class=divisionAbbr>CS</a></div><ul><li class=part>Анализ алгоритмов</li><li><a href=/cs/complexity/>Вычислительная сложность</a></li><ol><li><a href=/cs/complexity/asymptotic/>Асимптотический анализ</a></li><li><a href=/cs/complexity/master-theorem/>Мастер-теорема</a></li></ol><li><a href=/cs/sorting/>Сортировки</a></li><ol><li><a href=/cs/sorting/bubble/>Сортировка пузырьком</a></li><li><a href=/cs/sorting/selection/>Сортировка выбором</a></li><li><a href=/cs/sorting/insertion/>Сортировка вставками</a></li><li><a href=/cs/sorting/heapsort/>Сортировка кучей</a></li><li><a href=/cs/sorting/counting/>Сортировка подсчетом</a></li><li><a href=/cs/sorting/radix/>Цифровая сортировка</a></li></ol><li><a href=/cs/interactive/>Бинпоиск и интерактивки</a></li><ol><li><a href=/cs/interactive/binary-search/>Бинарный поиск</a></li><li><a href=/cs/interactive/answer-search/>Бинарный поиск по ответу</a></li></ol><li><a href=/cs/sequences/>Последовательности</a></li><ol><li><a href=/cs/sequences/compression/>Сжатие координат</a></li></ol><li><a href=/cs/decomposition/>Декомпозиция задач</a></li><ol><li><a href=/cs/decomposition/scanline/>Сканирующая прямая</a></li><li><a href=/cs/decomposition/rollback/>Откатывание состояний</a></li><li><a href=/cs/decomposition/sqrt-heuristics/>Корневые эвристики</a></li><li><a href=/cs/decomposition/mo/>Алгоритм Мо</a></li><li><a href=/cs/decomposition/mitm/>Meet-in-the-middle</a></li></ol><li><a href=/cs/arithmetic/>Арифметика</a></li><ol><li><a href=/cs/arithmetic/bit-representation/>Битовое представление чисел</a></li><li><a href=/cs/arithmetic/simd/>Векторизация</a></li></ol><li class=part>Структуры данных</li><li><a href=/cs/basic-structures/>Базовые структуры данных</a></li><ol><li><a href=/cs/basic-structures/array/>Массивы и кортежи</a></li><li><a href=/cs/basic-structures/iterators/>Итераторы</a></li><li><a href=/cs/basic-structures/vector/>Динамический массив</a></li><li><a href=/cs/basic-structures/heap/>Двоичная куча</a></li></ol><li><a href=/cs/tree-structures/>Деревья поиска</a></li><ol><li><a href=/cs/tree-structures/stl-trees/>Деревья в STL</a></li><li><a href=/cs/tree-structures/treap/>Декартово дерево</a></li><li><a href=/cs/tree-structures/implicit/>Неявный ключ</a></li></ol><li><a href=/cs/set-structures/>Структуры для множеств</a></li><ol><li><a href=/cs/set-structures/bitset/>Битсет и битовое сжатие</a></li><li><a href=/cs/set-structures/dsu/>Система непересекающихся множеств</a></li></ol><li><a href=/cs/range-queries/>Запросы на отрезках</a></li><ol><li><a href=/cs/range-queries/prefix-sum/>Префиксные суммы</a></li><li><a href=/cs/range-queries/fenwick/>Дерево Фенвика</a></li><li><a href=/cs/range-queries/sparse-table/>Разреженная таблица</a></li><li><a href=/cs/range-queries/sqrt-structures/>Корневые структуры</a></li></ol><li><a href=/cs/persistent/>Персистентность</a></li><ol><li><a href=/cs/persistent/persistent-array/>Структуры с откатами</a></li><li><a href=/cs/persistent/path-copying/>Метод копирования пути</a></li><li><a href=/cs/persistent/persistent-segtree/>Персистентное дерево отрезков</a></li><li><a href=/cs/persistent/persistent-treap/>Персистентное декартово дерево</a></li></ol><li><a href=/cs/segment-tree/>Дерево отрезков</a></li><ol><li><a href=/cs/segment-tree/pointers/>Дерево отрезков на указателях</a></li><li><a href=/cs/segment-tree/lazy-propagation/>Отложенные операции</a></li><li><a href=/cs/segment-tree/lazy-initialization/>Отложенное построение</a></li></ol><li class=part>Динамическое программирование</li><li><a href=/cs/general-dynamic/>Общие приёмы динамики</a></li><ol><li><a href=/cs/general-dynamic/segments/>Динамика по подотрезкам</a></li><li><a href=/cs/general-dynamic/memoization/>Ленивая динамика</a></li></ol><li><a href=/cs/combinatorial-optimization/>Комбинаторная оптимизация</a></li><ol><li><a href=/cs/combinatorial-optimization/greedy/>Жадные алгоритмы</a></li><li><a href=/cs/combinatorial-optimization/matroid/>Матроиды</a></li><li><a href=/cs/combinatorial-optimization/annealing/>Метод отжига</a></li></ol><li><a href=/cs/games/>Теория игр</a></li><ol><li><a href=/cs/games/nim/>Игра «Ним»</a></li></ol><li><a href=/cs/layer-optimizations/>Пересчет динамики по слоям</a></li><ol><li><a href=/cs/layer-optimizations/divide-and-conquer/>Оптимизация через разделяй-и-властвуй</a></li><li><a href=/cs/layer-optimizations/knuth/>Оптимизация Кнута</a></li><li><a href=/cs/layer-optimizations/convex-hull-trick/>Convex Hull Trick</a></li><li><a href=/cs/layer-optimizations/lagrange/>Дискретный метод Лагранжа</a></li></ol><li class=part>Математика</li><li><a href=/cs/algebra/>Алгебра</a></li><ol><li><a href=/cs/algebra/binpow/>Бинарное возведение в степень</a></li><li><a href=/cs/algebra/matrix/>Матрицы</a></li><li><a href=/cs/algebra/matmul/>Задачи на умножение матриц</a></li><li><a href=/cs/algebra/gauss/>Линейные уравнения</a></li><li><a href=/cs/algebra/polynomials/>Многочлены</a></li><li><a href=/cs/algebra/interpolation/>Интерполяция</a></li><li><a href=/cs/algebra/karatsuba/>Алгоритм Карацубы</a></li><li><a href=/cs/algebra/fft/>Быстрое преобразование Фурье</a></li></ol><li><a href=/cs/modular/>Модулярная арифметика</a></li><ol><li><a href=/cs/modular/euclid/>Алгоритм Евклида</a></li><li><a href=/cs/modular/extended-euclid/>Расширенный алгоритм Евклида</a></li><li><a href=/cs/modular/reciprocal/>«Деление» по модулю</a></li></ol><li><a href=/cs/factorization/>Факторизация и простые числа</a></li><ol><li><a href=/cs/factorization/eratosthenes/>Решето Эратосфена</a></li><li><a href=/cs/factorization/pollard/>Ро-алгоритм Полларда</a></li></ol><li class=part>Графы</li><li><a href=/cs/graph-traversals/>Обходы графов</a></li><ol><li><a href=/cs/graph-traversals/storing-graphs/>Хранение графов</a></li><li><a href=/cs/graph-traversals/dfs/>Поиск в глубину</a></li><li><a href=/cs/graph-traversals/connectivity/>Поиск компонент связности</a></li><li><a href=/cs/graph-traversals/bipartite/>Двудольные графы и раскраски</a></li><li><a href=/cs/graph-traversals/cycle/>Нахождение цикла</a></li><li><a href=/cs/graph-traversals/topological-sorting/>Топологическая сортировка</a></li><li><a href=/cs/graph-traversals/euler-cycle/>Эйлеров цикл</a></li><li><a href=/cs/graph-traversals/bridges/>Мосты и точки сочленения</a></li><li><a href=/cs/graph-traversals/scc/>Компоненты сильной связности</a></li><li><a href=/cs/graph-traversals/2-sat/>2-SAT</a></li></ol><li><a href=/cs/shortest-paths/>Кратчайшие пути</a></li><ol><li><a href=/cs/shortest-paths/acyclic-paths/>Пути в ациклических графах</a></li><li><a href=/cs/shortest-paths/bfs/>Поиск в ширину</a></li><li><a href=/cs/shortest-paths/dijkstra/>Алгоритм Дейкстры</a></li></ol><li><a href=/cs/spanning-trees/>Связность и остовные деревья</a></li><ol><li><a href=/cs/spanning-trees/safe-edge/>Лемма о безопасном ребре</a></li><li><a href=/cs/spanning-trees/prim/>Алгоритм Прима</a></li><li><a href=/cs/spanning-trees/kruskal/>Алгоритм Краскала</a></li><li><a href=/cs/spanning-trees/boruvka/>Алгоритм Борувки</a></li><li><a href=/cs/spanning-trees/dcp/>Динамическая связность</a></li></ol><li><a href=/cs/matching/>Паросочетания</a></li><ol><li><a href=/cs/matching/berge/>Лемма Бержа</a></li><li><a href=/cs/matching/kuhn/>Алгоритм Куна</a></li><li><a href=/cs/matching/matching-problems/>Задачи на паросочетания</a></li><li><a href=/cs/matching/hall/>Теорема о свадьбах</a></li></ol><li><a href=/cs/trees/>Корневые деревья</a></li><ol><li><a href=/cs/trees/tree-queries/>Запросы на деревьях</a></li><li><a href=/cs/trees/lca-rmq/>Связь задачи LCA и static RMQ</a></li><li><a href=/cs/trees/binary-lifting/>Метод двоичных подъемов</a></li><li><a href=/cs/trees/centroid/>Центроидная декомпозиция</a></li><li><a href=/cs/trees/heavy-light/>Heavy-light декомпозиция</a></li></ol><li><a href=/cs/flows/>Потоки</a></li><ol><li><a href=/cs/flows/mincost-maxflow/>Поток минимальной стоимости</a></li></ol><li class=part>Геометрия</li><li><a href=/cs/geometry-basic/>Геометрические примитивы</a></li><ol><li><a href=/cs/geometry-basic/vectors/>Точки и вектора</a></li><li><a href=/cs/geometry-basic/products/>Скалярное и векторное произведение</a></li><li><a href=/cs/geometry-basic/segments/>Прямые и отрезки</a></li><li><a href=/cs/geometry-basic/polygons/>Многоугольники</a></li></ol><li><a href=/cs/convex-hulls/>Выпуклые оболочки</a></li><ol><li><a href=/cs/convex-hulls/hull-applications/>Применения выпуклых оболочек</a></li><li><a href=/cs/convex-hulls/jarvis/>Алгоритм Джарвиса</a></li><li><a href=/cs/convex-hulls/graham/>Алгоритм Грэхэма</a></li><li><a href=/cs/convex-hulls/chan/>Алгоритм Чана</a></li><li><a href=/cs/convex-hulls/envelope/>Верхние и нижние огибающие</a></li></ol><li class=part>Строки</li><li><a href=/cs/string-searching/>Поиск подстроки</a></li><ol><li><a href=/cs/string-searching/prefix-function/>Префикс-функция</a></li><li><a href=/cs/string-searching/z-function/>Z-функция</a></li><li><a href=/cs/string-searching/manacher/>Алгоритм Манакера</a></li></ol><li><a href=/cs/hashing/>Хеширование</a></li><ol><li><a href=/cs/hashing/polynomial/>Полиномиальное хеширование</a></li><li><a href=/cs/hashing/collision/>Коллизии хешей</a></li><li><a href=/cs/hashing/isomorphism/>Проверки на изоморфизм</a></li></ol><li><a href=/cs/string-structures/>Строковые структуры</a></li><ol><li><a href=/cs/string-structures/trie/>Префиксное дерево</a></li><li><a href=/cs/string-structures/aho-corasick/>Алгоритм Ахо-Корасик</a></li><li><a href=/cs/string-structures/palindromic-tree/>Дерево палиндромов</a></li><li><a href=/cs/string-structures/suffix-array/>Суффиксный массив</a></li></ol><li class=part>Разное</li><li><a href=/cs/numerical/>Численные методы</a></li><ol><li><a href=/cs/numerical/newton/>Метод Ньютона</a></li><li><a href=/cs/numerical/monte-carlo/>Методы Монте-Карло</a></li></ol><li><a href=/cs/programming/>Технологии программирования</a></li><ol><li><a href=/cs/programming/stress-test/>Стресс-тестирование</a></li><li><a href=/cs/programming/bayans/ id=active-element>Просто интересные задачи</a></li></ol></ul></nav><div id=wrapper><menu id=menu><div class=left><a><img src=/icons/bars-solid.svg onclick=toggleSidebar() title='open table of contents'>
</a><a><img src=/icons/adjust-solid.svg style=position:relative;top:-1px onclick='switchTheme(localStorage.getItem("theme")=="dark"?"light":"dark")' title='dark theme'>
</a><a><img src=/icons/search-solid.svg onclick=toggleSearch() title=search></a></div><div class=title>Просто интересные задачи</div><div class=right><a onclick=window.print()><img src=/icons/print-solid.svg title=print>
</a><a href=https://prose.io/#algorithmica-org/algorithmica/edit/master//cs%2fprogramming%2fbayans.md><img src=/icons/edit-solid.svg title=edit style=width:18px;position:relative;right:-2px;top:-1px>
</a><a href=https://github.com/algorithmica-org/algorithmica/blob/master//cs/programming/bayans.md class=github-main><img src=/icons/github-brands.svg title='view on github'></a></div></menu><main><div id=search><input id=search-bar type=search placeholder='Поиск по сайту…' oninput=search()><div id=search-count></div><div id=search-results></div></div><header><h1>Просто интересные задачи</h1><div class=info><div><span>автор</span>
<span>Сергей Слотин</span></div><div><span>опубликовано</span>
<span>2017-2019</span></div><div><span>обновлено</span>
<span>июл. 17, 2022</span></div></div></header><article><p>Везде, где не указано — время работы $O(n)$, а если есть конкретные числа, то TL 1 секунда.</p><p>Задачи идут в порядке вспоминания/придумывания, то есть в весьма рандомном.</p><span class=anchor id=попугаи></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bf%d0%be%d0%bf%d1%83%d0%b3%d0%b0%d0%b8>#</a>Попугаи</h2><p>Вам нужно передать 64 байт некоторой информации. Для этого у вас есть 320 специально обученных попугаев, каждый из которых может запомнить число от 0 до 255. Все попугаи рано или поздно долетают до точки назначения и сообщают свой байт, но, возможно, не в том порядке, в котором были выпущены. Попугаи внешне неразличимы.</p><span class=anchor id=минимум-и-максимум></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bc%d0%b8%d0%bd%d0%b8%d0%bc%d1%83%d0%bc-%d0%b8-%d0%bc%d0%b0%d0%ba%d1%81%d0%b8%d0%bc%d1%83%d0%bc>#</a>Минимум и максимум</h2><p>Даны 68 камней разного веса. Требуется за 100 операций взвешивания определить самый лёгкий и самый тяжелый.</p><span class=anchor id=перестановка></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bf%d0%b5%d1%80%d0%b5%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0>#</a>Перестановка</h2><p>Есть перестановка из 64 элементов. Вы можете спрашивать, какие элементы находятся на заданном множестве позиций (вам сообщается список элементов в произвольном порядке). Восстановите перестановку за 6 запросов.</p><span class=anchor id=выпуклая-оболочка></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%b2%d1%8b%d0%bf%d1%83%d0%ba%d0%bb%d0%b0%d1%8f-%d0%be%d0%b1%d0%be%d0%bb%d0%be%d1%87%d0%ba%d0%b0>#</a>Выпуклая оболочка</h2><p>Требуется отвечать на два типа запросов:</p><ol><li>Добавить точку в выпуклую оболочку.</li><li>Проверить, лежит ли точка внутри выпуклой оболочки.</li></ol><p>Обе операции онлайн за $O(\log n)$.</p><span class=anchor id=геометрическая-прогрессия></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%b3%d0%b5%d0%be%d0%bc%d0%b5%d1%82%d1%80%d0%b8%d1%87%d0%b5%d1%81%d0%ba%d0%b0%d1%8f-%d0%bf%d1%80%d0%be%d0%b3%d1%80%d0%b5%d1%81%d1%81%d0%b8%d1%8f>#</a>Геометрическая прогрессия</h2><p>Найдите способ посчитать $\frac{1-a^n}{1-a}$ по произвольному модулю за $O(\log n)$.</p><span class=anchor id=покемоны></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bf%d0%be%d0%ba%d0%b5%d0%bc%d0%be%d0%bd%d1%8b>#</a>Покемоны</h2><p>В турнире участвуют 1024 видов покемонов. Вы, будучи экспертом по покемонам, знаете, кто кого может победить. Иначе говоря, вам полностью известен граф-<em>турнир</em> из 1024 вершин и $1023 \times 1022 : 2$ рёбер, в котором каждые две вершины соединены ровно одним ориентированным ребром, определяющим победителя в возможном поединке. Обратите внимание, что из $a \to b$ и $b \to c$ не следует, что $a \to c$.</p><p>У вас есть 10 покеболов. Составьте команду из 10 покемонов такую, что для каждого из 1024 типов покемонов в вашей команде найдется покемон, побеждающий его. Считайте, что в битве одинаковых покемонов побеждает ваш.</p><span class=anchor id=сортировка></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d1%81%d0%be%d1%80%d1%82%d0%b8%d1%80%d0%be%d0%b2%d0%ba%d0%b0>#</a>Сортировка</h2><p>Можно ли отсортировать</p><ul><li>5 камней за 8 взвешиваний?</li><li>5 камней за 7 взвешиваний?</li><li>20 камней за 60 взвешиваний?</li></ul><span class=anchor id=точки-в-круге></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d1%82%d0%be%d1%87%d0%ba%d0%b8-%d0%b2-%d0%ba%d1%80%d1%83%d0%b3%d0%b5>#</a>Точки в круге</h2><p>Даны $n$ точек, равномерно распределенных в единичном круге с центром в начале координат. Предложите алгоритм, который за $O(n)$ в среднем сортирует их по удаленности от начала координат.</p><span class=anchor id=бинарный-поиск></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%b1%d0%b8%d0%bd%d0%b0%d1%80%d0%bd%d1%8b%d0%b9-%d0%bf%d0%be%d0%b8%d1%81%d0%ba>#</a>Бинарный поиск</h2><p>На стороне интерактора был сгенерирован массив из $n$ случайных чисел, <em>равномерно распределенных</em> на некотором промежутке, а затем отсортирован. За один запрос можно по индексу в массиве узнать число, которое там лежит. Требуется за $O(\log \log n)$ операций <em>в среднем</em> определять, есть ли в данном массиве число $x$.</p><span class=anchor id=случайный-бинарный-поиск></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d1%81%d0%bb%d1%83%d1%87%d0%b0%d0%b9%d0%bd%d1%8b%d0%b9-%d0%b1%d0%b8%d0%bd%d0%b0%d1%80%d0%bd%d1%8b%d0%b9-%d0%bf%d0%be%d0%b8%d1%81%d0%ba>#</a>Случайный бинарный поиск</h2><p>Дан такой бинарный поиск, в котором мы вместо элемента из середины берем случайный:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>int</span> <span class=nf>lower_bound</span><span class=p>(</span><span class=kt>int</span> <span class=n>x</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=n>rand</span><span class=p>()</span> <span class=o>%</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>t</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=n>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>r</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span>
</span></span><span class=line><span class=cl>            <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>l</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Все ключи и запросы случайные. При $n \to \infty$, во сколько <em>в среднем</em> раз больше итераций рандомизированный бинарный поиск будет делать по сравнению с обычным?</p><span class=anchor id=замкнутые-ломаные></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%b7%d0%b0%d0%bc%d0%ba%d0%bd%d1%83%d1%82%d1%8b%d0%b5-%d0%bb%d0%be%d0%bc%d0%b0%d0%bd%d1%8b%d0%b5>#</a>Замкнутые ломаные</h2><p>Даны две замкнутые несамопересекающиеся ломаные. Определите, можно ли перевести их друг в друга с помощью параллельного переноса, поворотов и гомотетии?</p><span class=anchor id=неубывающий-массив></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bd%d0%b5%d1%83%d0%b1%d1%8b%d0%b2%d0%b0%d1%8e%d1%89%d0%b8%d0%b9-%d0%bc%d0%b0%d1%81%d1%81%d0%b8%d0%b2>#</a>Неубывающий массив</h2><p>Дан массив из $n$ целых чисел. Требуется за $2n$ операций «прибавить к одному элементу любой другой» сделать его неубывающим.</p><span class=anchor id=чётный-цикл></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d1%87%d1%91%d1%82%d0%bd%d1%8b%d0%b9-%d1%86%d0%b8%d0%ba%d0%bb>#</a>Чётный цикл</h2><p>Дан неориентированный граф. Определите, есть ли в нём простой цикл чётной длины.</p><span class=anchor id=k-ая-порядковая-статистика></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#k-%d0%b0%d1%8f-%d0%bf%d0%be%d1%80%d1%8f%d0%b4%d0%ba%d0%be%d0%b2%d0%b0%d1%8f-%d1%81%d1%82%d0%b0%d1%82%d0%b8%d1%81%d1%82%d0%b8%d0%ba%d0%b0>#</a>$k$-ая порядковая статистика</h2><p>Дан массив из $n$ целых чисел. Найдите его $k$-й наименьший элемент за $O(n)$.</p><span class=anchor id=доминирующий-элемент></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%b4%d0%be%d0%bc%d0%b8%d0%bd%d0%b8%d1%80%d1%83%d1%8e%d1%89%d0%b8%d0%b9-%d1%8d%d0%bb%d0%b5%d0%bc%d0%b5%d0%bd%d1%82>#</a>Доминирующий элемент</h2><p>Дан массив из $n$ элементов. Требуется ответить на $m$ запросов, есть ли на отрезке $[l, r]$ <em>доминирующий</em> элемент — тот, который встречается на нём хотя бы $\frac{r-l}{2}$ раз. Время работы $O((n+m) \log n)$.</p><span class=anchor id=разрушение-дерева></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d1%80%d0%b0%d0%b7%d1%80%d1%83%d1%88%d0%b5%d0%bd%d0%b8%d0%b5-%d0%b4%d0%b5%d1%80%d0%b5%d0%b2%d0%b0>#</a>Разрушение дерева</h2><p>Дано корневое дерево. Каждую итерацию выбирается вершина (равновероятно из всех оставшихся), и удаляется всё поддерево, соответствующее этой вершине. Найти, сколько ходов в среднем будет продолжаться этот процесс, то есть матожидание номера итерации, на которой будет удалён корень дерева.</p><span class=anchor id=k-ый-элемент-на-отрезке></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#k-%d1%8b%d0%b9-%d1%8d%d0%bb%d0%b5%d0%bc%d0%b5%d0%bd%d1%82-%d0%bd%d0%b0-%d0%be%d1%82%d1%80%d0%b5%d0%b7%d0%ba%d0%b5>#</a>$k$-ый элемент на отрезке</h2><p>Дан массив из $n$ целых чисел. Требуется ответить на $m$ запросов $k$-ой порядковой статистики на произвольном отрезке. Время работы $O((n+m) \log n)$.</p><span class=anchor id=различные-числа-на-отрезке></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d1%80%d0%b0%d0%b7%d0%bb%d0%b8%d1%87%d0%bd%d1%8b%d0%b5-%d1%87%d0%b8%d1%81%d0%bb%d0%b0-%d0%bd%d0%b0-%d0%be%d1%82%d1%80%d0%b5%d0%b7%d0%ba%d0%b5>#</a>Различные числа на отрезке</h2><p>Дан массив из $n$ целых чисел. Требуется ответить на $m$ запросов количества различных элементов на произвольном отрезке. Время работы $O(m\sqrt{n})$.</p><span class=anchor id=физкультура></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d1%84%d0%b8%d0%b7%d0%ba%d1%83%d0%bb%d1%8c%d1%82%d1%83%d1%80%d0%b0>#</a>Физкультура</h2><p>Зачёт по физкультуре в одном институте ставится по количеству посещений, поэтому важно знать, сколько учебных дней осталось до конца семестра (особенно когда напропускал пары). Семестр длится $m$ дней. Деканат последовательно издает $n$ приказов двух типов:</p><ol><li>Объявить все дни с $l$ по $r$ выходными (физру закрывать нельзя)</li><li>Объявить все дни с $l$ по $r$ учебными (физру закрывать можно)</li></ol><p>При этом приказ может частично отменить действие предыдущих приказов.</p><p>После каждого приказа нужно посчитать суммарное число учебных дней в семестре. Асимптотика $O(n \log n)$.</p><span class=anchor id=нулевая-сумма></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bd%d1%83%d0%bb%d0%b5%d0%b2%d0%b0%d1%8f-%d1%81%d1%83%d0%bc%d0%bc%d0%b0>#</a>Нулевая сумма</h2><p>Дано мультимножество из $n$ целых чисел. Найдите любое его непустое подмножество, сумма чисел которого делится на $n$.</p><span class=anchor id=мета-задача></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bc%d0%b5%d1%82%d0%b0-%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b0>#</a>Мета-задача</h2><p>В задаче дана произвольная строка, по которой известным только авторам способом генерируется ответ yes/no. В задаче 100 тестов. У вас есть 20 попыток. В качестве фидбэка вам доступны вердикты на каждом тесте. Вердикта всего два: OK (ответ совпал) и WA. Попытки поделить на ноль, выделить терабайт памяти и подобное тоже считаются как WA. «Решите» задачу.</p><span class=anchor id=мета-задача-2></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bc%d0%b5%d1%82%d0%b0-%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b0-2>#</a>Мета-задача 2</h2><p>Условие как в «Мета-задаче», но сообщается только число пройденных тестов.</p><p>100 тестов, 70 попыток.</p><span class=anchor id=мета-задача-3></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bc%d0%b5%d1%82%d0%b0-%d0%b7%d0%b0%d0%b4%d0%b0%d1%87%d0%b0-3>#</a>Мета-задача 3</h2><p>Условие как в «Мета-задаче», но сообщается только номер первого не пройденного теста.</p><p>10 тестов, 100 попыток.</p><span class=anchor id=ниточка></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bd%d0%b8%d1%82%d0%be%d1%87%d0%ba%d0%b0>#</a>Ниточка</h2><p>В плоскую доску вбили $n$ гвоздей радиуса $r$, причём так, что соответствующие точки на плоскости образуют вершины выпуклого многоугольника. На эти гвозди натянули ниточку, причём ниточка «огибает» по кругу гвозди. Найдите длину ниточки, то есть периметр этого многоугольника с учётом закругления.</p><span class=anchor id=пельмени></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bf%d0%b5%d0%bb%d1%8c%d0%bc%d0%b5%d0%bd%d0%b8>#</a>Пельмени</h2><p>Компания друзей захотела сделать заготовки для пельменей из огромного прямоугольного куска теста. Для этого в ход пошли всевозможные предметы округлой формы: стаканы, кружки, кастрюли… В итоге тесто было разделено $n$ возможно пересекающимися окружностями произвольных радиусов и центров. Нам интересно посчитать, сколько получилось заготовок, то есть на сколько кусков распалось тесто. Асимптотика $O(n^2 \log n)$.</p><span class=anchor id=от-нуля-до-единицы></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%be%d1%82-%d0%bd%d1%83%d0%bb%d1%8f-%d0%b4%d0%be-%d0%b5%d0%b4%d0%b8%d0%bd%d0%b8%d1%86%d1%8b>#</a>От нуля до единицы</h2><p>Дан следующий код:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=n>x</span> <span class=o>&lt;</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>x</span> <span class=o>+=</span> <span class=n>random</span><span class=p>()</span>
</span></span></code></pre></div><p>Требуется посчитать матожидание <code>x</code>.</p><p>(<code>random</code> в питоне возвращает случайное действительное число от 0 до 1.)</p><span class=anchor id=площадь></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bf%d0%bb%d0%be%d1%89%d0%b0%d0%b4%d1%8c>#</a>Площадь</h2><p>Дан единичный квадрат и 100 кругов. Нужно посчитать площадь квадрата, которую покрывают эти круги, с ошибкой менее 1%.</p><span class=anchor id=окружности></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%be%d0%ba%d1%80%d1%83%d0%b6%d0%bd%d0%be%d1%81%d1%82%d0%b8>#</a>Окружности</h2><p>Имеется окружность радиуса $R$, назовём её <em>внешней</em>. Внутри неё лежит окружность радиуса $r &lt; R$ и соприкасается с ней. Дальше строятся бесконечное число окружностей по следующему правилу: $k$-я окружность должна</p><ul><li>соприкасаться с <em>внешней</em>,</li><li>соприкасаться с предыдущей (($k-1$)-ой),</li><li>иметь при этом максимальный радиус.</li></ul><p>Найдите (выведите формулу за $O(1)$) радиус $k$-й такой окружности.</p><span class=anchor id=блеф></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%b1%d0%bb%d0%b5%d1%84>#</a>Блеф</h2><p>Катя и Серёжа играют в игру. У Кати есть $n$ карт, у Серёжи — $m$. Одна дополнительная карта лежит на столе рубашкой вверх. Назовём её <em>особой</em>. Цель игроков — её отгадать. Все $n+m+1$ карт различны, игроки изначально знают только свои карты. Игроки ходят по очереди, начинает Катя. Игрок в свой ход может:</p><ul><li>Попытаться угадать <em>особую</em> карту. Если получилось угадать, то игрок победил, иначе проиграл. В любом случае, игра на этом заканчивается.</li><li>Назвать любую карту из колоды. Если у соперника есть такая карта — он обязан показать ее и вывести из игры. Если же у него нет такой карты — он сообщает об этом.</li></ul><p>С какой вероятностью выиграет Катя при оптимальной игре обоих игроков? Асимптотика $O(nm)$.</p><span class=anchor id=достижимость></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%b4%d0%be%d1%81%d1%82%d0%b8%d0%b6%d0%b8%d0%bc%d0%be%d1%81%d1%82%d1%8c>#</a>Достижимость</h2><p>Дан ориентированный граф без кратных рёбер. Для всех пар вершин $u$ и $v$ определите, можно ли дойти из $u$ в $v$. Вершин меньше 2000.</p><span class=anchor id=нумизмат></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bd%d1%83%d0%bc%d0%b8%d0%b7%d0%bc%d0%b0%d1%82>#</a>Нумизмат</h2><p>Есть $n$ жадных коллекционеров монет, которые согласны меняться, только если взамен монеты, которых у них более одной, они получают монету, которых у них нет вовсе. Всего есть $k$ типов монет. Известно количество монет каждого типа у каждого коллекционера и у коллекционера Серёжи. Серёжа хочет максимизировать количество различных монет у него путем обмена с жадными коллекционерами. Считайте, что жадные коллекционеры не меняются между собой.</p><p>Придумайте любой полиномиальный алгоритм.</p><span class=anchor id=принцесса></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bf%d1%80%d0%b8%d0%bd%d1%86%d0%b5%d1%81%d1%81%d0%b0>#</a>Принцесса</h2><p>В некотором королевстве жила принцесса. Она была настольно прекрасна, что каждый юноша в королевстве хотел жениться на ней. Принцесса была привередлива, поэтому твердо решила выйти замуж только за самого красивого юношу в государстве.</p><p>Она составила список из $n$ самых красивых юношей и вызывает их каждый день в случайном порядке. После того, как к ней приходит очередной юноша, она принимает решение: либо выйти за него замуж, либо нет. Если она выходит за него замуж, то она все равно просматривает всех остальных, чтобы убедиться, что он действительно самый красивый. Если это так, то они живут долго и счастливо. Если нет (если она вышла замуж не за самого красивого, либо не вышла замуж вообще), то принцесса покончит жизнь самоубийством.</p><p>У принцессы очень хорошая память, поэтому она может сравнивать красоту очередного юноши со всеми предыдущими, а также у неё тонкий вкус, поэтому никакие двое юношей не являются для неё одинаково красивыми.</p><p>Помогите принцессе разработать стратегию, которая максимизирует вероятность того, что она выйдет замуж за наиболее красивого юношу.</p><p>Асимптотика $O(n^2)$.</p><span class=anchor id=спираль></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d1%81%d0%bf%d0%b8%d1%80%d0%b0%d0%bb%d1%8c>#</a>Спираль</h2><p>Определим спираль $(2n+1) \times (2n+1)$ как матрицу следующего вида:</p>$$
\begin{matrix}
21 & 22 & 23 & 24 & 25 \\
20 & 7 &  8 &  9 & 10 \\
19 & 6 &  1 &  2 & 11 \\
18 & 5 &  4 &  3 & 12 \\
17 & 16 & 15 & 14 & 13 \\
\end{matrix}

    $$
<p>Ваша задача — рассчитать ответы на $q$ запросов суммы чисел в произвольной прямоугольной области (по модулю $10^9+7$).</p><p>$q \leq 100$, $n \leq 10^9$.</p><span class=anchor id=польский-лабиринт></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bf%d0%be%d0%bb%d1%8c%d1%81%d0%ba%d0%b8%d0%b9-%d0%bb%d0%b0%d0%b1%d0%b8%d1%80%d0%b8%d0%bd%d1%82>#</a>Польский лабиринт</h2><p>Группа из $n$ туристов гуляет в бесконечном лабиринте. Лабиринт имеет форму треугольника Серпинского: клетка $(x, y)$ свободна, только если <code>x & y == 0</code>.</p><p><figure><img src=https://image.ibb.co/cSs7H7/Screenshot_from_2018_03_31_16_34_58.png><figcaption></figcaption></figure></p><p>Туристы устали блуждать по лабиринту и хотят встретиться в какой-нибудь свободной клетке, сумма расстояний от всех туристов до которой наименьшая. Туристы за один ход могут передвигаться вверх, вниз, влево и вправо по свободным клеткам.</p><p>$n \leq 10^5$, изначальные координаты туристов до $10^9$.</p><span class=anchor id=нимные-подмножества></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bd%d0%b8%d0%bc%d0%bd%d1%8b%d0%b5-%d0%bf%d0%be%d0%b4%d0%bc%d0%bd%d0%be%d0%b6%d0%b5%d1%81%d1%82%d0%b2%d0%b0>#</a>Нимные подмножества</h2><p>Есть множество $A$, состоящее из $n$ чисел от 0 до $2^{32}-1$. Требуется выбрать его подмножество $B \subseteq A$ максимальной суммы такое, что нельзя выбрать его подмножество $C \subseteq B$ такое, что ним на кучках соответствующего размера — проигрышный. Асимптотика $O(n \log n)$.</p><span class=anchor id=баланс-степеней></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%b1%d0%b0%d0%bb%d0%b0%d0%bd%d1%81-%d1%81%d1%82%d0%b5%d0%bf%d0%b5%d0%bd%d0%b5%d0%b9>#</a>Баланс степеней</h2><p>Дан неориентированный граф. Требуется ориентировать каждое ребро так, чтобы максимизировать число вершин, у которых степень исхода равна степени захода.</p><span class=anchor id=два-пути></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%b4%d0%b2%d0%b0-%d0%bf%d1%83%d1%82%d0%b8>#</a>Два пути</h2><p>Дан ориентированный граф. Найдите два непересекающихся по рёбрам пути из $s$ в $t$.</p><span class=anchor id=пьяница></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bf%d1%8c%d1%8f%d0%bd%d0%b8%d1%86%d0%b0>#</a>Пьяница</h2><p>Пьяница стоит на числовой прямой в точке 0. Каждую секунду он делает единичный шаг вправо (в сторону увеличения координат) с вероятностью $p$ и влево с вероятностью $1-p$. С какой вероятностью он когда-либо окажется в точке с отрицательной координатой?</p><span class=anchor id=ксоровый-рюкзак></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%ba%d1%81%d0%be%d1%80%d0%be%d0%b2%d1%8b%d0%b9-%d1%80%d1%8e%d0%ba%d0%b7%d0%b0%d0%ba>#</a>Ксоровый рюкзак</h2><p>Дан массив из $10^5$ целых чисел от $0$ до $(2^{30}-1)$. Найти количество различных подпоследовательностей этого массива, <code>xor</code>-сумма которых равна заданному числу $x$.</p><span class=anchor id=иван-сусанин></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%b8%d0%b2%d0%b0%d0%bd-%d1%81%d1%83%d1%81%d0%b0%d0%bd%d0%b8%d0%bd>#</a>Иван Сусанин</h2><p>Польская армия хочет добраться из поселения $s$ в поселение $t$. Ей руководят два гетмана — Камиль и Матеуш.</p><ul><li>Камиль руководит армией днём и водит армию по <em>дорогам</em>.</li><li>Матеуш руководит армией ночью и совершает маневры по <em>секретным тропам</em>.</li></ul><p>Каждый гетман перед маршем спрашивает дорогу у Ивана Сусанина. Иван хочет задержать наступление польских войск.</p><p>Карта дорог известна Камилю. Аналогично, карта секретных троп известна Матеушу.
Поэтому Ивану не удастся их так просто обмануть — он должен каждый раз выбрать переход так, что минимальное расстояние между поселением $t$ и войском по соответствующей карте строго уменьшилось.</p><p>Вы знаете карту дорог и троп вместе с их длинами. Помогите Ивану как можно дольше (желательно, бесконечно) вести армию из $s$ в $t$.</p><span class=anchor id=варенье></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%b2%d0%b0%d1%80%d0%b5%d0%bd%d1%8c%d0%b5>#</a>Варенье</h2><p>В ряд стоят $n$ пустых банок из-под варенья. Вместительность $i$-й банки равна $v_i$ грамм.</p><p>Карлсон наполняет эти банки вареньем в $m$ этапов. На каждом этапе он выбирает числа $l$, $r$, $x$ и $y$, а затем пролетает над банками с $l$ по $r$, выполняя следующие операции: в банку номер $l$ он добавляет $x$ грамм варенья, в банку номер $(l + 1)$ — $(x + y)$ грамм варенья, в банку номер $(l + 2)$ — $(x + 2y)$, и так далее до $r$-той банки, в которую он положит $x + y(r - l)$ грамм варенья.</p><p>Малышу хочется определить для каждой банки наименьший номер операции, после которой она станет полной.</p><p>$n, m \leq 10^5$</p><span class=anchor id=лабиринт></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bb%d0%b0%d0%b1%d0%b8%d1%80%d0%b8%d0%bd%d1%82>#</a>Лабиринт</h2><p>Серёжа потерялся в лабиринте $n \times m$. Каждая клетка либо свободна, либо стена. Все крайние клетки — стены. Вам известно, где находится выход из лабиринта, но не известно, где находится Серёжа. Составьте для него последовательность направлений (вверх, вниз, влево, вправо) такую, после которой он окажется в клетке с выходом, вне зависимости от его стартовой позиции. Если вы прикажете ему идти в стену, то просто ничего не произойдёт.</p><p>Придумайте любой полиномиальный алгоритм.</p><span class=anchor id=обезьяна></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%be%d0%b1%d0%b5%d0%b7%d1%8c%d1%8f%d0%bd%d0%b0>#</a>Обезьяна</h2><p>Дана строка из $10^5$ символов латинского алфавита. Обезьяна нажимает случайные клавиши на клавиатуре (одну из 26 букв), пока не наберёт её целиком, то есть пока исходная подстрока не станет подстрокой набранной строки. Какое ожидание числа нажатых клавиш перед тем, как это произойдёт?</p><span class=anchor id=ожидание-минимума></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%be%d0%b6%d0%b8%d0%b4%d0%b0%d0%bd%d0%b8%d0%b5-%d0%bc%d0%b8%d0%bd%d0%b8%d0%bc%d1%83%d0%bc%d0%b0>#</a>Ожидание минимума</h2><p>Даны $n$ случайных величин, равномерно распределенных на отрезках $[l_i, r_i]$ — у каждой величины свой отрезок. Найдите математическое ожидание минимума этих случайных величин.</p><p>Придумайте любой точный полиномиальный алгоритм.</p><span class=anchor id=шумный-ксор></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d1%88%d1%83%d0%bc%d0%bd%d1%8b%d0%b9-%d0%ba%d1%81%d0%be%d1%80>#</a>Шумный ксор</h2><p>Загадано некое число $x$. Вы можете делать запросы следующего типа: назвать число $y$ и получить в ответ <strong>число единичных битов</strong> в ксор-сумме $x$, $y$ и $m$, где $m$ это случайно сгенерированная маска, в которой каждый бит имеет вероятность $p = \frac15$ быть единичным, то есть каждый бит $x \oplus y$ заменяется на противоположный с вероятностью $y$, и вам возвращается количество единичных битов. Для ясности:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=c1># ...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>mask</span><span class=p>(</span><span class=n>p</span><span class=o>=</span><span class=mf>0.2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>r</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>32</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>random</span><span class=o>.</span><span class=n>random</span><span class=p>()</span> <span class=o>&lt;</span> <span class=n>p</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>r</span> <span class=o>+=</span> <span class=mi>2</span><span class=o>**</span><span class=n>i</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>r</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>query</span><span class=p>(</span><span class=n>y</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nb>bin</span><span class=p>(</span><span class=n>x</span> <span class=o>^</span> <span class=n>y</span> <span class=o>^</span> <span class=n>mask</span><span class=p>())</span><span class=o>.</span><span class=n>count</span><span class=p>(</span><span class=s1>&#39;1&#39;</span><span class=p>)</span>
</span></span></code></pre></div><p>Ваша задача — отгадать число, используя не более 10000 попыток.</p><span class=anchor id=коммивояжер></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%ba%d0%be%d0%bc%d0%bc%d0%b8%d0%b2%d0%be%d1%8f%d0%b6%d0%b5%d1%80>#</a>Коммивояжер</h2><p>Даны $3 \cdot 10^5$ точек на плоскости. Выберите среди них любое подмножество из 500 точек и решите для него задачу коммивояжера: найдите минимальный по длине цикл, проходящий через все эти точки.</p><span class=anchor id=анаграммы></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%b0%d0%bd%d0%b0%d0%b3%d1%80%d0%b0%d0%bc%d0%bc%d1%8b>#</a>Анаграммы</h2><p>Найдите в строке $s$ первую подстроку, являющуюся анаграммой (пререстановкой символов) строки $t$ за $O(n)$.</p><span class=anchor id=функциональный-граф></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d1%84%d1%83%d0%bd%d0%ba%d1%86%d0%b8%d0%be%d0%bd%d0%b0%d0%bb%d1%8c%d0%bd%d1%8b%d0%b9-%d0%b3%d1%80%d0%b0%d1%84>#</a>Функциональный граф</h2><p>Дан ориентированный граф из $n &lt; 10^5$ вершин, в котором из каждой вершины ведет ровно одно ребро. Требуется ответить на $q &lt; 10^5$ запросов «в какую вершину мы попадем, если начнем в вершине $v_i$ и сделаем $k_i &lt; 10^{18}$ переходов» за время $O(q + n)$.</p><span class=anchor id=асинхронная-шляпа></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%b0%d1%81%d0%b8%d0%bd%d1%85%d1%80%d0%be%d0%bd%d0%bd%d0%b0%d1%8f-%d1%88%d0%bb%d1%8f%d0%bf%d0%b0>#</a>Асинхронная шляпа</h2><p>Серёжа и его $(n - 1)$ друзей решили поиграть в «шляпу», в которой один игрок должен за ограниченное время объяснить как можно больше слов, чтобы его партнер их отгадал.</p><p>Каждый игрок должен пообщаться с любым другим по разу; обычно игра проводится так:</p><ul><li>1-й игрок объясняет в течение минуты слова 2-му,</li><li>2-й игрок объясняет слова 3-му,</li><li>&mldr;,</li><li>$n$-й игрок объясняет слова 1-му,</li><li>1-й игрок объясняет слова 3-му,</li><li>2-й игрок объясняет слова 4-му…</li></ul><p>…и так далее, пока $(n-1)$-й игрок не закончит объяснять слова $(n-2)$-ому.</p><p>Если друзей собралось много, то игра может занять приличное время. Серёжу интересует, какое минимальное время она может длиться, если разрешить парам участников общаться между собой одновременно и в любом порядке.</p><p>Для данного $n \le 500$, найдите минимальное количество времени $k$ и соответствующее ему расписание.</p><span class=anchor id=random-coffee></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#random-coffee>#</a>Random coffee</h2><p>В компании, в которой вы работаете, устроено неизвестное число людей — от одного до бесконечности с равной вероятностью. Для борьбы с одиночеством, каждый сотрудник участвует в «random coffee»: каждую неделю вы встречаетесь со случайным человеком из компании, чтобы попить кофе и обсудить что угодно.</p><p>Вы участвовали в random coffee $n$ раз и пообщались с $k$ разными людьми (с некоторыми — более одного раза). Какое наиболее вероятное число человек работает в компании?</p><span class=anchor id=мафия></span><h2><a class=anchor-link href=https://ru.algorithmica.org/cs/programming/bayans/#%d0%bc%d0%b0%d1%84%d0%b8%d1%8f>#</a>Мафия</h2><p>В «мафию» играют 13 человек, из которых 10 мирных и 3 мафии. Все роли розданы с помощью стандартной колоды игральных карт: заранее выбрали и перемешали 10 красных и 3 чёрные карты, кто вытянул черную — мафия. Все карты различны и известны всем. Игра начинается с дневного голосования.</p><p>Как мирным гарантированно победить?</p></article><div class=nextprev><div class=left><a href=https://ru.algorithmica.org/cs/programming/stress-test/ id=prev-article>← Стресс-тестирование</a></div><div class=right></div></div></main><footer>Copyleft 2017–2022 Algorithmica.org<br>Материалы распространяются под <a href=https://tldrlegal.com/license/creative-commons-attribution-sharealike-4.0-international-(cc-by-sa-4.0)>CC BY-SA</a></footer></div></body></html>